.FALIGN
.CODE
main
CONST R5 0x00
HICONST R5 0x80
ADD R6 R5 #0
CONST R0 x5
HICONST R0 x0
STR R0 R6 #-1
ADD R6 R6 #-1
CONST R0 x3
HICONST R0 x0
STR R0 R6 #-1
ADD R6 R6 #-1
CONST R0 x2
HICONST R0 x0
STR R0 R6 #-1
ADD R6 R6 #-1
LDR R0 R6 #0
LDR R1 R6 #1
MUL R0 R0 R1
STR R0 R6 #1
ADD R6 R6 #1
LDR R0 R6 #0
LDR R1 R6 #1
ADD R0 R0 R1
STR R0 R6 #1
ADD R6 R6 #1
JSR printnum
JSR endl
CONST R0 x3
HICONST R0 x0
STR R0 R6 #-1
ADD R6 R6 #-1
CONST R0 x4
HICONST R0 x0
STR R0 R6 #-1
ADD R6 R6 #-1
CONST R0 x5
HICONST R0 x0
STR R0 R6 #-1
ADD R6 R6 #-1
LDR R0 R6 #0
LDR R1 R6 #1
CMP R0 R1
BRzp ZERO0
ADD R2 R1 #0
JMP AFTERZ0
ZERO0 ADD R2 R0 #0
AFTERZ0 STR R2 R6 #1
ADD R6 R6 #1
LDR R0 R6 #0
LDR R1 R6 #1
MUL R0 R0 R1
STR R0 R6 #1
ADD R6 R6 #1
JSR printnum
JSR endl
CONST R0 x0
HICONST R0 x80
CMP R0 R5
BRz EMAIN
LDR R0 R6 #0
STR R0 R5 #2
LDR R7 R5 #1
ADD R6 R5 #2
LDR R5 R5 #0
JMPR R7
EMAIN TRAP x25
